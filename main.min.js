!function(){"use strict";function h(a,b){var c,d,e=0;if(a>b)return-1;var f=a.getDay()+1,g=b.getDay()+1;return f>5&&g>5&&(e=1),f=f>5?5:f,g=g>5?5:g,c=Math.floor((b.getTime()-a.getTime())/6048e5),d=g>=f?5*c+(g-f):5*(c+1)-(f-g),d-=e,d+1}function p(a){var b=25*a;o.innerHTML=b.toFixed(2)+" ₪",n.innerHTML=(k-b).toFixed(2)+" ₪"}if(!document.getElementById("yuval")){var a=[].slice.call(document.getElementsByClassName("od")).filter(function(a,b){return 0!==b}),b=[].slice.call(document.getElementsByClassName("pr"));b=b.filter(function(a,c){return c!==b.length-1});var c=[].slice.call(document.querySelectorAll("#tdDiscountPrice")),d=a.map(function(a,c){var d=a.childNodes[0].textContent.trim().split(" "),e=(d[1]||"").split(".").map(function(a){return Number(a)}),f=d[0].split(":").map(function(a){return Number(a)}),g=Number(b[c].innerHTML.trim().replace(/[^0-9.-]/g,""));return{day:e[0],month:e[1],year:e[2],hour:f[0],minute:f[1],second:f[2],cost:g}}),e=c.map(function(a){return Number(a.innerHTML.trim())}),f=new Date(document.getElementById("txbStartDate").value.split("/").reverse().join("-")),g=new Date(document.getElementById("txbEndDate").value.split("/").reverse().join("-")),i=h(f,g),j=d.reduce(function(a,b){return a+b.cost},0)-e.reduce(function(a,b){return a+b},0),k=d.reduce(function(a,b){return a+(6===b.hour&&b.minute>=0&&b.minute<=30?0:b.cost)},0)-e.reduce(function(a,b){return a+b},0),l=document.createElement("tr");l.setAttribute("id","yuval"),l.setAttribute("style","background: #B6CEE6; font-weight: bold;"),l.innerHTML='<td id="ftTotalsText" class="tdCols" style="text-align: right;" colspan="4">סה"כ ע"י יובל</td><td class="TotalQt" style="text-align: center;"><input type="number" placeholder="ימי עבודה החודש" value="'+i+'"></td><td id="tdEmployeePrice" class="ep epTotal" style="text-align: center;">'+(k-25*i).toFixed(2)+' ₪</td><td id="tdEmployerPrice" class="rp rpTotal" style="text-align: center;">'+25*i+' ₪</td><td class="pr prTotal" style="text-align: center;">'+j.toFixed(2)+' ₪</td><td id="tdInfo" class="inf">&nbsp;</td>';var m=l.childNodes[1].childNodes[0],n=l.childNodes[2],o=l.childNodes[3];document.getElementsByTagName("tfoot")[0].appendChild(l),m.addEventListener("keyup",function(a){a.target.value=a.target.value.replace(/[^0-9]/,"");var b=Number(a.target.value);(0>b||b>30)&&(a.target.value=0),p(b)})}}();
