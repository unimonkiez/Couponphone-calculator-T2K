!function(){"use strict";function f(a,b){var c,d,e=0;if(a>b)return-1;var f=a.getDay()+1,g=b.getDay()+1;return f>5&&g>5&&(e=1),f=f>5?5:f,g=g>5?5:g,c=Math.floor((b.getTime()-a.getTime())/6048e5),d=g>=f?5*c+(g-f):5*(c+1)-(f-g),d-=e,d+1}function n(a){var b=25*a;m.innerHTML=b.toFixed(2)+" ₪",l.innerHTML=(b-i).toFixed(2)+" ₪"}function f(a,b){var c,d,e=0;if(a>b)return-1;var f=a.getDay()+1,g=b.getDay()+1;return f>5&&g>5&&(e=1),f=f>5?5:f,g=g>5?5:g,c=Math.floor((b.getTime()-a.getTime())/6048e5),d=g>=f?5*c+(g-f):5*(c+1)-(f-g),d-=e,d+1}function n(a){var b=25*a;m.innerHTML=b.toFixed(2)+" ₪",l.innerHTML=(b-i).toFixed(2)+" ₪"}if(!document.getElementById("yuval")){var a=[].slice.call(document.getElementsByClassName("od")).filter(function(a,b){return 0!==b}),b=[].slice.call(document.getElementsByClassName("pr"));b=b.filter(function(a,c){return c!==b.length-1});var c=a.map(function(a,c){var d=a.childNodes[0].textContent.trim().split(" "),e=(d[1]||"").split(".").map(function(a){return Number(a)}),f=d[0].split(":").map(function(a){return Number(a)}),g=Number(b[c].innerHTML.trim().replace(/[^0-9.-]/g,""));return{day:e[0],month:e[1],year:e[2],hour:f[0],minute:f[1],second:f[2],cost:g}}),d=new Date(document.getElementById("txbStartDate").value.split("/").reverse().join("-")),e=new Date(document.getElementById("txbEndDate").value.split("/").reverse().join("-")),g=f(d,e),h=c.reduce(function(a,b){return a+b.cost},0),i=c.reduce(function(a,b){return a+(6===b.hour&&b.minute>=0&&b.minute<=30?0:b.cost)},0),j=document.createElement("tr");j.setAttribute("id","yuval"),j.setAttribute("style","background: #B6CEE6; font-weight: bold;"),j.innerHTML='<td id="ftTotalsText" class="tdCols" style="text-align: right;" colspan="4">סה"כ ע"י יובל</td><td class="TotalQt" style="text-align: center;"><input type="number" placeholder="ימי עבודה החודש" value="'+g+'"></td><td id="tdEmployeePrice" class="ep epTotal" style="text-align: center;">'+(i-25*g).toFixed(2)+' ₪</td><td id="tdEmployerPrice" class="rp rpTotal" style="text-align: center;">'+25*g+' ₪</td><td class="pr prTotal" style="text-align: center;">'+h.toFixed(2)+' ₪</td><td id="tdInfo" class="inf">&nbsp;</td>';var k=j.childNodes[1].childNodes[0],l=j.childNodes[2],m=j.childNodes[3];document.getElementsByTagName("tfoot")[0].appendChild(j),k.addEventListener("keyup",function(a){a.target.value=a.target.value.replace(/[^0-9]/,"");var b=Number(a.target.value);(0>b||b>30)&&(a.target.value=0),n(b)})}if(!document.getElementById("yuval")){var a=[].slice.call(document.getElementsByClassName("od")).filter(function(a,b){return 0!==b}),b=[].slice.call(document.getElementsByClassName("pr"));b=b.filter(function(a,c){return c!==b.length-1});var c=a.map(function(a,c){var d=a.childNodes[0].textContent.trim().split(" "),e=(d[1]||"").split(".").map(function(a){return Number(a)}),f=d[0].split(":").map(function(a){return Number(a)}),g=Number(b[c].innerHTML.trim().replace(/[^0-9.-]/g,""));return{day:e[0],month:e[1],year:e[2],hour:f[0],minute:f[1],second:f[2],cost:g}}),d=new Date(document.getElementById("txbStartDate").value.split("/").reverse().join("-")),e=new Date(document.getElementById("txbEndDate").value.split("/").reverse().join("-")),g=f(d,e),h=c.reduce(function(a,b){return a+b.cost},0),i=c.reduce(function(a,b){return a+(6===b.hour&&b.minute>=0&&b.minute<=30?0:b.cost)},0),j=document.createElement("tr");j.setAttribute("id","yuval"),j.setAttribute("style","background: #B6CEE6; font-weight: bold;"),j.innerHTML='<td id="ftTotalsText" class="tdCols" style="text-align: right;" colspan="4">סה"כ ע"י יובל</td><td class="TotalQt" style="text-align: center;"><input type="number" placeholder="ימי עבודה החודש" value="'+g+'"></td><td id="tdEmployeePrice" class="ep epTotal" style="text-align: center;">'+(i-25*g).toFixed(2)+' ₪</td><td id="tdEmployerPrice" class="rp rpTotal" style="text-align: center;">'+25*g+' ₪</td><td class="pr prTotal" style="text-align: center;">'+h.toFixed(2)+' ₪</td><td id="tdInfo" class="inf">&nbsp;</td>';var k=j.childNodes[1].childNodes[0],l=j.childNodes[2],m=j.childNodes[3];document.getElementsByTagName("tfoot")[0].appendChild(j),k.addEventListener("keyup",function(a){a.target.value=a.target.value.replace(/[^0-9]/,"");var b=Number(a.target.value);(0>b||b>30)&&(a.target.value=0),n(b)})}}();
